# This is a basic workflow to test if the docker container can be built

name: run_container

on:
  #Run this workflow manually from the Actions tab
  workflow_dispatch:

env:
  IMAGE_NAME: load_role_table

jobs:
# Push image to GitHub Packages.
# See also https://docs.docker.com/docker-hub/builds/
  push:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build image
        run: docker build . --file dockerfile --tag $IMAGE_NAME --label "runnumber=${GITHUB_RUN_ID}"
        
        # need to redfine any other environment variables that are given here
        env:
          aws_key: ${{ secrets.aws_key }}
          aws_id: ${{ secrets.aws_id }}
